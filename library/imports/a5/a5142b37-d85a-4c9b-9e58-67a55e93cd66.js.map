{"version":3,"sources":["assets/Script/Jet.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    rigidBody: cc.RigidBody;\n\n    force: number = 2000;\n    upforce: number = 2000;\n\n    velocityMax: number = 300;\n    upVelocityMax: number = 200;\n\n    direction: number = 0;\n    key: { up: boolean, right: boolean, left: boolean } = { up: false, right: false, left: false };\n\n    onLoad() {\n\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n\n        this.rigidBody = this.getComponent(cc.RigidBody);\n\n    }\n\n    onKeyDown(event: cc.Event.EventKeyboard) {\n        switch (event.keyCode) {\n            case cc.macro.KEY.up:\n                this.key.up = true;\n                break;\n\n            case cc.macro.KEY.right:\n                this.key.right = true;\n                this.changeShipAngle(-30);\n                break;\n\n            case cc.macro.KEY.left:\n                this.changeShipAngle(30);\n                this.key.left = true;\n                break;\n        }\n    }\n\n    onKeyUp(event: cc.Event.EventKeyboard) {\n        switch (event.keyCode) {\n            case cc.macro.KEY.up:\n                this.key.up = false;\n                break;\n            case cc.macro.KEY.right:\n                this.key.right = false;\n                this.changeShipAngle(0);\n                break;\n            case cc.macro.KEY.left:\n                this.key.left = false;\n                this.changeShipAngle(0);\n                break;\n        }\n    }\n\n    changeShipAngle(angle: number) {\n\n        cc.tween(this.node)\n            .to(0.2, { angle: angle })\n            .start();\n    }\n\n    start() {\n        this.rigidBody.fixedRotation = true;\n        // this.rigidBody.enabledContactListener = true;\n    }\n\n    update(dt) {\n\n        if (this.key.left && this.rigidBody.linearVelocity.x > -this.velocityMax) {\n            this.rigidBody.applyForceToCenter(new cc.Vec2(-1 * this.force, 0), true);\n\n            // console.log(this.rigidBody.linearVelocity.x);\n\n        }\n\n        if (this.key.right && this.rigidBody.linearVelocity.x < this.velocityMax) {\n            this.rigidBody.applyForceToCenter(new cc.Vec2(1 * this.force, 0), true);\n\n            // console.log(this.rigidBody.linearVelocity.x);\n\n        }\n\n        if (this.key.up && this.rigidBody.linearVelocity.y < this.upVelocityMax) {\n            this.rigidBody.applyForceToCenter(new cc.Vec2(0, this.upforce), true);\n        }\n\n    }\n\n    onDestroy() {\n        // Cancel keyboard input monitoring\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n    }\n}\n"]}